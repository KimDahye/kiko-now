---
layout: post
title: "Study Diary 2015-12"
tags: [study diary, 학습일지]
comments: true
---


[학습일지 2015-11](http://128.199.231.48/hagseubilji/) 에 이어 작성하는 학습일지이다. 

# 이번달 목표
### 숙제
* 네트워크 프로그래밍 - 채팅 프로그램(java)
  - ThreadPoolExecutor 적용 - 일단 **완료**
  - 방 개념 도입 - **완료**
  - 방에서 파일 주고 받기 - 일단 **완료** 
  - nonblocking i/o 적용 - **완료**
  - File 대용량 전송도 가능하도록 고치기 - **완료 (serverside)**
  - ThreadPoolExecutor 소스코드 보고 어떻게 동작하는지 자세히 이해하기 - **java doc 살펴봄**
  - AsynchronousGroupChannel, CompletionHandler 에 대해 공부해보기 - **대충 javadoc 읽음**
  - (io, nio 추상화(interface)해서 갈아끼울 수 있도록)
  - Maven 붙이기 - **완료** 
  - Spring 붙이기 (DI 용도로) - **완료**
  - (DB 붙이기)
* ThreadPoolExecutor 합리적으로 바꾸기 - core, max 사이에 있어도 큐에 들어온 거 바로 실행하도록 하기! - **완료**
* [스터디 숙제(6장)] key-value annotation 만들고 사용해보기 - **완료**
* Effective Java 5~8장 정리 // 다음달엔 9 ~ 11장 그리고 concurrency in practice 시작
  * 5장 - **완료** (영어로도 읽음)
  * 6장 - **완료**
  * 7장 - **완료**
  * 8장  
  * 9장 

### 자유 
퇴근 후에, 주말에, 놀면서 하겠다! 다하지 않아도 되는 것들 :) 하지만 하고 싶은!

* 넥스트 네트워크 프로젝트 -  **시작!**
* iOS 8 프로그래밍 따라해보기 - **hello, world 찍음ㅋㅋ**
  * 수요일 취미코딩 시간을 활용해보려 함! 스위프트 적응하고, 앱 첫화면 만들어보기.. 도 벅차려나? 할 수 있는데까지!!
* [책] - 지난 달에 <결혼설명서>를 읽느라고 이너게임을 다 못읽었다.
  * 이너게임 
  * 혼자 있는 시간의 힘
  * 성공과 실패를 결정하는 1%의 네트워크 원리
  * unit test 관련 책 (실용적인 책으로. 실제 테스트 짜는 연습 해볼 수 있는?)
  * 텅 빈 레인코트 (motive는 [여기](https://brunch.co.kr/@suhanjang/21))
* 블로그 
  * 샌프란시스코 여행, yelp 개발자분 강의 정리해서 글쓰자.
  * 이너게임 읽고 배운 점 정리
  * 블로그 도메인 사서 붙이자.
  * 블로그에 code highlighting 기능 붙이기 - **완료**
  * [회고] 넥스트 생활, 2015년 회고, 결혼 준비하면서 든 생각들 정리해보면 좋겠네. - **대략 완료**
* haskell 스터디 계속 - **빠지지 않고 모두 참석함**

*** 

# 주차별 계획
### week 1
* 모임 - 하스켈 스터디(월) 취미코딩(수) // **하스켈 스터디 참가, 취미코딩은 선약으로 인해 불참**
* 네트워크 프로그래밍 파일 전송까지 완료하기 // **완료**
* Effective Java 5장 영어로 읽고 정리하기 // *미완* -> week2 월요일까지 마치는 걸로
* 이너게임 - 주말에 정리해서 글 쓰기 // *미완* 

### week 2
* Effective Java 5장 영어로 읽고 정리하기 // **완료**
* ~~Effective Java 6장 영어로 읽고 정리하기~~ // **미완 다음주 수요일까지 완료해야함!**
* 채팅 프로그램 NIO 적용하기
  * Java NIO 관련해서 정리하기 // **일단 완료, 계속 업데이트 중**
  * NIOSimpleServer 짜기 **완료 @12/10**
  * ~~NIO로 방 기능 파일전송 기능 구현~~ **미완. 다음주초까지 완료하자**
  * (파일 확장자에 상관없이 모두 전송되도록 프로토콜 고치기)
  * ((채팅 프로그램 테스트 케이스 만들기)) 
* ~~ThreadPoolExecutor 소스코드 보고 어떻게 동작하는지 자세히 이해하기~~ // **week3로**
* ~~하스켈 스터디 [연습문제](https://github.com/jwvg0425/HaskellStudy/tree/master/practice) 풀어보기~~ //**week3로**
* 취미코딩 참가 // **완료** iOS로 "hello world" 찍어봄 ㅋㄷ - 다음주엔 구체적으로 뭘 개발할지 더 고민해보고, 스위프트 연습해보는 시간 갖자.

### week 3
* Effective Java 6장 영어로 읽고 정리하기 // **완료** ~~한글로 읽었지만~~
* 채팅 프로그램 확장
  - proactor 패턴에서 Room, 파일 전송 기능 추가 // **완료**
  - File 대용량 전송도 가능하도록 고치기 // **완료**
  - ~~io, nio 추상화(interface)해서 갈아끼울 수 있도록~~ //하지 말자.
  - ~~Maven 붙이기~~ //다음주로
* ThreadPoolExecutor 소스코드 보고 어떻게 동작하는지 자세히 이해하기 // **완료**
* ~~AsynchronousGroupChannel, CompletionHandler 에 대해 공부해보기~~ // AsynchronousGroupChanne 자바 doc 읽었으나, 일단 감만 잡은 상태. 어떻게 돌아가는지 알겠으니 일단 패스.
* 하스켈 스터디 월요일 7시 30분 // **참가**
* 하스켈 스터디 목요일 7시 30분 // **참가**
* ~~하스켈 스터디 [연습문제](https://github.com/jwvg0425/HaskellStudy/tree/master/practice) 풀어보기~~ // 으악 계속 밀린다.


### week 4
* Effective Java 7장 (영어로) 읽고 정리하기  // **완료** (번역본으로 읽음..)
* 채팅 프로그램 확장
  - Maven의 모듈화 어떻게 하는 건지... 자바지기의 책부터 읽어볼까? 넥스트 네트워크에서 자료에 대해 조언을 얻어보자. // **책 주문, 처음부터 모듈화하는 것 따라해보자.**
  - ~~Maven 모듈화 하기~~ // *다음주로* 
* 하스켈 스터디 월요일 7시 30분 // **참가**
* ~~[퇴근후, 주말] 하스켈 스터디 [연습문제](https://github.com/jwvg0425/HaskellStudy/tree/master/practice) 풀어보기~~ 
* [퇴근후] 넥스트 네트워크 프로젝트 v2. 첫 모임 (오프라인) // **완료**
* ~~[연휴기간] Effective Java 8, 9 장 정리하기~~ // *잘 놀았다 ㅋㅋ*

### week 5
* ThreadPoolExecutor 합리적으로 바꾸기 - core, max 사이에 있어도 큐에 들어온 거 바로 실행하도록 하기! // **완료**
* 채팅 프로그램 확장 // **완료**
  - maven 모듈화 // **완료**
  - spring의 DI 붙이기 // **완료**
* ~~Effective Java 8장 영어로 읽고 정리하기~~ //연휴에 조금 읽음 
* [수요일] 넥스트 네트워크 프로젝트 오프라인 모임 // **참가**
***
#Study Diary

## 2015/12/01 (화)
### 오늘 한 일
* [채팅 프로그래밍]ThreadPoolExecution
  * 어떻게 쓰는지, 왜 쓰는지 정리
  * 만들고 있는 채팅 프로그램에 적용하기 - 처음엔 ServerHandler 안에 Thread 리스트를 executor로 대체하려고 했다. 하지만, excutor만으로는 thread를 선택적으로 접근하여 메소드를 부를 수 없기 때문에 Thread 리스트 필드를 유지하기로 하였다. (이 결정을 하기까지 몰라서 삽질을 좀 했음) 
* 아쉽지만 아직 iOS8 프로그래밍 책이 오지 않았다 OTL 

### 배운 것 정리
* [ThreadPoolExecutor 어떻게 쓰고 왜 쓰는지 정리한 포스트](http://128.199.231.48/threadpoolexecutor/)

### 내일 할 일
내일까지 채팅 프로그래밍을 좀 더 하고 이번주엔 꼭 리뷰를 받자! 목금엔 Effective JAVA!

* 방만들고, 방에 들어가고(방 리스트 보여줘야 함), 방 떠나고까지 업그레이드! (시간되면 방에서 파일 주고 받는 거까지 upgrade)
* 그리고 iOS8 프로그래밍 책 꼭 시작해보자~~~ > < 내일은 오겠지! 스위프트 재미 없으면 자바스크립트로 갈아타야지. ㅋㅋㅋ

## 2015/12/02 (수)
### 오늘 한 일
* 채팅 프로그램에 방 개념 도입하기 위해 설계 + 코딩 시작 ([github commit](https://github.com/KimDahye/chat-program/commit/7bb0b08e67f422c2cbdaf0dea59ca1ed39140bad))

### 내일 할 일
* 채팅 프로그램 방 도입한 것 구현 마무리(RoomListManager 클래스 구현) + 디버깅
* Effective Java 5장 규칙 2개 정리 (5장 정리는 이번주 목표! 미뤄지면 주말에 해야함!!! - 하지만 나를 너무 쪼진 말자 끄윽 ㅠㅠ..)

### 회고
오늘 (근무시간 내) 목표는 채팅프로그램에 방 개념을 도입하고 Effective Java 5장의 규칙 2개를 정리하는 것이었다. 하지만 목표치만큼 완료하진 못하였다. 

그 이유를 생각해보면, 먼저 코딩이 생각보다 오래 걸렸다. 오래 걸린 이유는 처음으로 multi threading 프로그램을 제대로 해보고 있는데, 이게 머리로 계속 디버깅을 하면서 짜니까 한 줄 한 줄 짜는 게 오래 걸렸다. (막상 추가된 줄은 얼마 안된다...) 머리로 한 줄 한 줄 디버깅하면서, 유닛 테스트의 중요성을 느꼈다. 더 큰 프로그램을 설계할 때엔 어떻게 작은 단위로 테스트할 지부터 설계하는 게 좋겠다. (그러고보니 테스트 관련 책을 읽어보고 싶네.. 이렇게 읽던 책 다 끝나지도 않았는데 읽고 싶은 책이 나타나면 참 곤란해지지만... 그냥 큐에 넣어버리자!) 또 어제부터 목이 칼칼하더니 오늘 내내 머리가 어지럽고 몸에 기운이 없었다. 좀 건강해지면 운동도 좀 더 적극적으로 해야할 듯! 내일 클래스 하나를 구현 완료하면 돌려보고 디버깅 할 수 있을 것이다. 

오늘 저녁 먹고 넥스트 교수님과 이야기. 욕심을 잘게 잘게 쪼개서 극복해보자는 말씀!

## 2015/12/03 (목)
### 오늘 한 일
* 채팅 프로그램에 방 개념 도입, 디버깅
* Effective Java 5장의 규칙 1개 읽고 정리 완료
* Effective Java 4장 스터디 

### 배운 것 정리
* 전에 올려둔 [Effective Java 4장 정리](http://128.199.231.48/effective-java-ch4/) 에 스터디 중 나온 내용 추가하여 업데이트
* 전에 올려둔 [weak, soft, phantom reference 정리](http://128.199.231.48/weak-soft-phantom-reference/)에 스터디 중 나온 내용 추가하여 업데이트

### 내일 할 일
* 채팅 프로그램 방에서 파일 보내기 기능 완료하기
* Effective Java 5장의 규칙 3~4개 정도 읽고 정리하기

### 회고
나는 원래 주간 스케줄러를 무지하게 쓰고(약 10년간 사용해왔네!) 잘 활용하는 사람이었다. 근데 이번해 들어 내가 세운 계획들이 너무 타이트해 나를 옥죄게 되었다. 그래서 이에 대한 반작용으로 한동안 "난 하루 하루 충실하게 살겠어!"하고 주간 계획을 세우지 않았다. 그러다 그래도 약속은 잊어버리면 안되니까 하면서 주간 스케줄러를 슬쩍 꺼내 사람들과의 약속만 적어넣기 시작했다. 그리고 오늘은 학습일지를 정리하면서 한달간의 목표와 그에 따른 주간 목표를 설정해보았다. 확실히 주간 목표가 설정되니 이를 쪼개어 하루 동안 어떤 걸 꼭 완료해야할 지 정해져서 하루를 집중해서 잘 산 것 같다. 우선순위 높은 것을 끝내니, 다 못한 것에 대해서 죄책감이 들진 않았다. 엄청난 계획과 무계획 사이에서 드디어 균형을 찾아가는 것 같다. 계획이 타이트해져 스트레스가 된다 싶을 때쯤엔 다시 한번 "하루만 살기"를 해야지. 

근데 계획을 세우면서 주의해야할 점은 하루하루 할 일에 집중하는 것도 중요하지만, 이것이 하나 하나 쌓여 결국에 무엇을 이룰지를 잊지 않아야 한다는 점! 나는 어디를 나아가고 있나? 나는 행복한(-내가 하고 싶은 것을 하고 있고, 만들고 싶은 것을 만들고 있으니까), 소프트웨어 엔지니어(-기술적인 측면에서, 그리고 사고하는 방법에 대해)가 되어가고 있다고 생각한다. 지금은 일단 이거면 됐다. :)

참, 오늘 스터디 중에 내가 LRU 캐시 구현해보고 테스트를 안해봤다고 했더니 선배들께서 그럼 절대 안된다고 조언해주셨다! 현업에서는 테스트 없이는 커밋도 하지 않는다고! 나도 간단한 채팅 프로그램 만들면서 테스트의 중요성을 느꼈는데! 내가 배우고 싶은 문화를 갖고 있는 곳에 잘 들어왔구나, 안심이 된다 :)

## 2015/12/04 (금)
### 오늘 한 일
* 채팅 프로그램 방에서 파일 보내기 기능 시작
  * 소켓을 하나로 같이 쓰면 메세지가 섞여서 소켓을 분리하기로 결정, 코딩 시작
  * 하루면 끝날 줄 알았더니 - 완료시간 추정 실패!

### 배운 것 정리
* 소켓관련 질문 정리: [github issue](https://github.com/KimDahye/chat-program/issues/21) 코멘트 참고

### 내일 할 일
* 다음주 월요일 아침까진 파일 전송을 마무리 해야함!!!

## 2015/12/05 (일)
### 오늘 한 일
* 교회 - 청첩장 택배 보내느라 30분 늦게 도착 ㅠㅠ 그래도 말씀은 처음부터 들을 수 있어서 감사!
* 동생이랑 근황 나눔, 저녁 먹기
* 파일 전송 기능 마무리 (오후 10시부터 슬금슬금 시작 ~ 다음날 오전 7시까지 ㅠ.ㅠ)
  * 참고했던 사이트 목록
  * http://stackoverflow.com/questions/9805192/the-difference-of-inputstream-datainputstream-and-bufferedinputstream-in
  * http://www.gnu.org/software/libc/manual/html_node/File-Position.html - 파일 읽는 위치는 파일 열 때마다 독립적이지만, dup 으로 열면 파일 읽는 위치를 공유할 수 있다.
  * http://www.scriptscoop.net/t/d56b4611b11a/java-http-request-on-binary-file-cant-read-correct-content-length.html - 내가 겪은 문제, 나는 여기서 가변길이 헤더에서 고정 길이 헤더로 전략을 수정했다. 
  * http://neouser.tistory.com/261 - 파일 byte[]로 변환하는 코드// 메이븐 적용하면 http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html#toByteArray%28java.io.InputStream%29 이거 사용할 거임

### 배운 것 정리
* 접근관정은 [github issue](https://github.com/KimDahye/chat-program/issues/16)에 코멘트로 정리되어 있다.

### 내일 할 일
* Effective Java 5장 정리!!!!

### 회고
내가 코딩을 할 때 한번에 머리에 들어오지 않으면 한번에 들어올 때까지 생각하고 꾸물 거리는 게 있는 것 같다. 그런데 프로그램을 짜다보면 생각대로 짜지지 않고 생각지 못했던 이슈를 만나게 된다. 이걸 해결하려면 결국 미리 생각해두었던 시나리오의 방향을 틀어야하는 경우가 생긴다. 지금은 생각을 너무 오래 하지 말고, 실마리가 보이면 그걸 따라 코딩을 하면서 점점 만들어나가는 연습을 해야할 듯. 혼자 짜는 작은 프로그램도 이해하기 이렇게 오래 걸리는데, 현업에 들어가면 더 힘들 테니까! 코딩을 해가면서 머리 속에 그림을 완성해나가보자...

내가 테스트 케이스를 만들고 시작해본 적이 없어서 테스트 코드가 자꾸 안만들어진다..... 테스트 코드를 쉽게 만들지 못하겠는게, 구현 시나리오가 바뀌면 이 테스트코드가 쓸모없는 코드가 될까봐 두려워하는 것 같다 뀨뀨 ㅠ.ㅠ 테스트 코드에 대해 균형잡힌 철학을 갖고 있으면서, 실용적으로 적용해볼 수 있는 예제가 많은 책  없을까~?

##12/7 (월)
### 오늘 한 일
* EF 5장 24, 25, 26, 27 장 읽음. 24~26장까지는 정리 완료
* java nio 설명자료 http://tutorials.jenkov.com/java-nio/nio-vs-io.html 읽기 시작

##12/8 (화)
### 오늘 한 일
* EF 27장 정리, 28~29 장 읽고 정리. 5장 정리 완료
* [어제 찾은 nio 자료](http://tutorials.jenkov.com/java-nio/nio-vs-io.html) 읽으며 nio의 개요와 channel, buffer, selector의 대략적으로 살펴봄
* nio 이용한 서버 클라이언트 코딩([여기](http://www.cs.duke.edu/courses/spring04/cps004/code/brackeen/ch06src/src/com/hypefiend/javagamebook/chatterbox/)) 읽어봄 - thread.sleep(n)을 남발하는 게 별로 좋은 프로그램 같아 보이지 않아서 좀 따라할 만한 소스코드를 다시 찾기 시작.
* 찾다보니 reactor, proactor 패턴이란 게 나옴. 이걸 내일 공부해보고 참고해서 설계해봐야겠다.

### 배운 것 정리
* [Effective Java 5장 정리](http://128.199.231.48/effective-java-ch-5-generics/)
* [Java NIO 정리](http://128.199.231.48/java-nio-summary/)

### 내일 할 일
* reactor, proactor 패턴 공부
* 위의 패턴 적용하여 nio 채팅 프로그램 설계 - 기존 코드를 어떻게 활용할 수 있을까, 추상화 생각해보자.
* (Effective Java 5장) 스터디 준비 + 스터디

##12/9 (수)
오늘은 내가 사랑하는 교수님 한분의 생일이었다. 마침 취미코딩 시간에 교수님을 만나 교수님과 이야기를 할 수 있었다. 교수님은 재미로 만든 것들이 사람들에게 흥미를 불러일으켰던 에피소드를 들려주셨다. 역시 재미로 개발해야하는듯. 취미 코딩 시간엔 iOS 8  프로그래밍을 따라하며 hello world를 찍었다. 예뻐서 좋긴 한데.. 다른 사람들이 게임 만드는 거 보니까 그냥 아이폰 게임이나 만들까 싶다 ㅎㅎ 

### 오늘 한 일
* reactor, proactor 패턴 
  - 자료를 찾아 봤는데 example 코드가 없으니까 개념만 말로 알겠고 실제로 어떻게 동작하는지는 잘 이해가 안되었다. head first design pattern 책 목차를 살펴봤는데 reactor, proactor 패턴에 대한 내용은 없었다. 
  - 그냥 개념적으로는, reactor는 이벤트를 리스닝하는 녀석을 하나두고, 이벤트가 있을 때만 이벤트에 반응하자는 개념. 프로액터는 좀 더 적극적으로 io 읽고 쓸 준비 된 것을 이벤트로 보지 말고, io처리가 다 끝난 것을 이벤트로 본다는 거였는데... 왜 더 적극적인 느낌인 거지? 역시.. 아직 이해 안됨; 
  - 8층에서 자바 nio 관련책("Java I/O & NIO" 한빛미디어)을 찾아보았는데 여기에 reactor라는 단어를 쓰긴 하지만 제대로 설명해준 곳은 아직 못찾은 건지 없는 건지.. 여튼 현재까진 발견하지 못했다. 대신 건진 수확이 있다.
  -  먼저, nio가 나온 배경에 대해서 알게되었다. classic io는 하드웨어세서 커널영역으로 데이터를 복사해온 뒤 jvm의 유저영역에 데이터를 또 복사해야해서 수행속도가 무척 느렸다고. nio에서는 jvm의 메모리 포인터가 커널영역의 메모리를 가리킬 수 있게 해주어서 복사를 두번 해야하는 수고를 없앨 수 있다고 한다. 
  - 또한 selector를 통해 nonblocking 모드를 지원하는데, select() 자체는 blocking 메소드라고... nonblocking과 blocking의 조화가 이상하긴 하지만, select() 마저 nonblocking이면 
  - 그리고 성능을 높이기 위해 데이터 송수신시 버퍼링이 안되어 한번에 데이터를 다 못읽을 수 있으니 read를 두번 한다는데 read를 두번만 하면 언제나 다 읽을 수 있는 걸까? 이런 의문도 생겼다. 
  - 성능 향상 포인트: ByteBufferPool, 데이터 송수신시 버퍼링, accept 작업 별도 쓰레드로 분리(accept는 3 handshaking 필요한 오래 걸리는 작업이라- 마찬가지로 connect, read, write 각각 별도 쓰레드로 분리하는 게 좋다) => SelectorPool 로 관리 
* 위의 패턴 적용하여 nio 채팅 프로그램 설계
  - 리액터 프로액터 개념 잘 모르겠으니 일단 패스하고, 기존 코드를 어떻게 활용하고 추상화할 수 있을까 생각해보았다.
  - 기존 동기 모델로 짠 것은, acceptor -> roomSelector -> roomManager 의 순서로 진행된다. 여기서 acceptor와 roomManager는 소켓을 갖고 있는 쓰레드를 selector로 모아서 관리하도록 바꿔주면 될 것 같은데.. roomSelector는 [방없으면 방 만들기 - 방 있으면 방리스트 보여주기 - 방 만들 건지 참가할 건지 물어보기 - 대답듣고 그에 맞게 방에 추가해주기]의 순서로 진행되는데 이렇게 순서 있는 대화에 대해 selector로 어떻게 처리할지 감이 안온다.. 각 질문과 답에 대해 별도 type으로 빼야할까?
  - 사수께 힌트를 여쭤보니, 일단 nio로 서버만 헬로월드 찍어주는 것부터 시작해보라고 하셔서 ㅠ.ㅠ nio로 처음부터 다시 시작하려 함. 
* Effective Java 5장 스터디 - 새로 알게 된 부분은 [effective java 5장 generics](http://128.199.231.48/effective-java-ch-5-generics/)에 추가 정리함.
* 취미 코딩 - iOS 8 프로그래밍 시작
* ghost에 prism.js 라이브러리 붙여 code hilighting  함. 아래는 javascript 코드와 latex코드. 
```language-javascript
var a = "literal";
var myJson = {
  "0" : "value0",
  "1" : "value1"
};
```

``` language-latex
<math>\exp_a b = a^b, 10^m</math>
```
latex는 내가 원하는 건 변환된 수식이었는데 그건 안되네.. latex 적용하는 거는 http://feynmanliang.com/mathjax-integration/ 따라 하면 될 듯.

### 찾아본 프로액터, 리액터 자료
* [김짱쌤 자료](http://ozt88.tistory.com/25) - 잘 이해 안됨;; 실제 구현 코드를 봐야겠다.
* 이외에 넥스트 게임 서버 사람들 자료들(pdf)

##12/10 (목)
### 오늘 한 일
* 접근성 부스 체험 + 오픈톡
  * voice over 기능으로 카톡하기 - 눈을 뜨고 있는데 보이스오버 기능을 사용하니까 터치가 안먹는 게 힘들었지만, 시각장애인 분들에겐 느리더라도 비장애인과의 소통을 위해 꼭 필요한 기능이겠더라. 
  * 수화를 배워보다 - 네이버 웹툰 '나는 귀머거리다'를 보면 비장애인에게 너무나 당연한 것들이 장애인에겐 큰 불편함이 될 수 있겠더라. 나도 성개결절에 걸려 있으면서 말을 못한다는 것이 얼마나 불편한 것인지 알게되었더랬지.. 만화를 봤는데 그 중에 청각장애인 엄마가 아이가 아픈데도 통역자가 없어 병원에 가지 못하고 아침까지 아이를 안고 동이 트길 기다리는 장면이 나왔다. 119에 문자로 접속하는 기능이 있다면 어땠을까?
  * "최고로 불편한 사람들을 위해 기술을 개발하다 보면 모두를 위한 기술이 나온다." 모두를 위한 기술, 공동체를 위한 기술.. 내가 맡은 자리에서 이 책임을 잊지 말아야지.
* 점심 판교예배
  * 하나님께서 80살 모세를 부르시는 장면에 대한 설교였다. 모세는 "내가 누구이관대"라 질문하며 하나님께 자의식을 구하지만, 하나님의 대답은 "내가 너와 함께 한다."였다. 세상에서는 자의식이 높을수록 뿌듯함을 느끼고 성공이라고 생각한다. 하지만 자의식은 한계가 있다. 언제나 우리보다 잘난 사람은 있기 마련이며, 자의식이 높아질수록 하나님을 잊게 되기 때문이다. 자의식이 높아진다는 것은 하나님의 통치를 거부하고 있다는 뜻, 자의식이 높아질수록 교만해진다. 자의식을 내려놓을 때, 나의 능력으로는 할 수 없음을 인정할 때 비로소 하나님만으로 설명되는 일들이 내 삶에 나타나기 시작할 것이다. 바울의 고백들... " 이제는 내가 사는 것이 아니라 내 안에 예수 그리스도가 사는 것이라.." "**내게 능력주시는 자** 안에서 내가 모든 것을 할 수 있느니라."
  * 자의식이 충만해지는 방법은 일을 많이 하는 것이다. 일이 아니면 혹 관계로서, 게임으로서 정체성을 확인하는 것이다. 나는 무엇으로 내 삶의 동기를 얻고 있나? 나는 무엇으로 살고 있는가? 사람들에게 보여지는 모습, 사람들의 평가가 나를 driven 하는가? 
  * 칭찬은 고래를 춤추게 한다지만, 성령의 감동없는 칭찬은 쓸데 없는 자의식만 높인다는 것을 기억하자! 정말 마음이 동할 때 칭찬을 해야겠다..! 봉사도 자의식으로 하면 봉사를 통해 자기를 드러낸다. 하나님의 의식으로 채워지지 않고서는 절대 봉사하지 말자. - 나는 아직 멀은 듯.. 봉사하면 사람들을 의식하게 되고 아주 어색하다. 푯대를 향하여 갈 길이 멀구나~
  * 자의식을 내려놓는 가장 좋은 방법은, 범사에 하나님께 감사하는 것. 그리고 주 안에서 내게 세우신 권세자들에게 순복하는 것 - 다만 성경에 위배되지 않는다면. (남편, 목사님, 직장 선배들...)
  * 감사하다. 아직까진 신입이어서 일이 많지 않는데, 만약 일이 많았다면 나는 회사에 들어가자마자 일 중독에 빠졌을지도.. 첫 한달을 여유롭게 보내면서 회사에서 내가 어떤 마음으로 지내야할지 생각하게 하심- 부담갖지 않고, 차근차근, 겸손한 마음으로, 결국 내 삶의 중심은 하나님임을 기억하면서 -이 감사하다. 내가 얼마나 모르는 게 많은지, 내가 얼마나 부족하고 연약한 사람인지 알게 하셔서 감사하다. 
* NIO Simple Server 구현 및 잠깐 잠깐 이전에 구현해뒀던 blocking 서버 리팩토링
  * 브랜치 분리 blocking-io / nio-simple
  * nio-simple은 서버에 접속하는 순간 하나의 방에 접속하는 것이고, 파일 전송기능은 없다.
  * [blocking-io 디버깅 이슈1](https://github.com/KimDahye/chat-program/issues/24)
  * [blocking-io 디버깅 이슈2](https://github.com/KimDahye/chat-program/issues/26)
  * [nioSimple 약간의 성능튜닝 - ByteBuffer 재활용](https://github.com/KimDahye/chat-program/issues/27)

### 배운 것 정리
* 오늘 배운 것은 아니고 어제 한 것이지만 오늘 정리한 [prism.js 적용하기](http://128.199.231.48/highlight-code-block-with-prism-js/)
 
### 내일은 뭐 할 건가?
* Effective Java 6장 읽기 시작(오전에 합시다)
* NIO로 파일 전송까지 완료하기
* ThreadPoolExecutor 소스코드 파보기
* 7시 판교예배

##12/11 (금)
### 오늘 한 일
- NIO 에서 ByteBuffer 재활용 하는 것이 어제 제대로 되지 않았어서 다시 했다. 해당 이슈와 코멘트는 [여기](https://github.com/KimDahye/chat-program/issues/27) 참고
- NIO로 파일 전송까지 완료하려 .... 시작
  - 문철이 자료 보면서 dispatcher패턴을 reactor 패턴으로 바꾸는 과정 이해
  - blocking io 에서 header type에 따라 분기해주는 dispatcher 패턴이 있다. 이는 switch 문으로 이뤄져있다. 하지만 새로운 타입을 추가하려면 기존의 소스코드(switch 문)를 수정해야한다. 이는 점점 코드를 길게 하여서 가독성을 해치며 내부 구현을 수정해야 하는 문제를 갖고 있다. 이 문제를 해결하기 위한 패턴이 reactor 패턴.
  - reactor 패턴은 타입에 따라 실제 동작을 Handler라는 인터페이스를 구현한 구현체에 정의한다. 그리고 이 Handler는 type 을 key로 하여 map에 저장된다. io를 타입에 따라 분기해줄 때 이 map에서 type에 따른 handler를 얻는 패턴이다. 자바지기와 스프링 프레임워크 이해하면서 봤던 코드에서 RequestMapping 했던 부분이 reactor 패턴을 적용한 거라 할 수 있다. [참고 코드](https://github.com/KimDahye/jwp-spring/blob/step2-di-static/src/main/java/core/mvc/RequestMapping.java)

##12/12 (토)
### 오늘 한 일
- slipp.net 스터디 결산 모임 참가 (http://www.slipp.net/questions/399)
  - 지식적인 측면에서 얻은 것은, 함수형 언어(특히 closure가 흥미로웠음)와 MSA! 함수형 언어가 side effect가 없다는 것은 알고 있었지만 unit test가 쉽다는 것은 요즘 테스트를 어떻게 하면 잘 짤 수 있을까 고민했던 내게 특별하게 다가왔다. 함수형 언어를 객체지향 언어와 상호보완적으로 사용해봐야겠다..! 일단 하스켈 스터디를 잘 마무리하자! 또 MSA의 개념과 쿠팡의 MSA 적용과정이 흥미로웠다..! Scale out으로도 감당되지 않는 부하를 분산하기 위해, 그리고 SPOF를 없애기 위해 MSA를 적용하셨다고. 하지만 MSA는 초반에는 생산성이 좋지 않다. 변화하려면 1년정도 새로운 도전은 말아야 한다. 
  - 결혼 끝나고 좀 여유로워지면, 커뮤니티 활동을 본격적으로 시작해야겠다. 마침 slipp.net이 내년에 새로운 스터디원을 모집한다고 하니 관심있는 주제가 있다면 바로 고고씽 해야지!) 자바지기는 커뮤니티를 하는 이유는 관계의 즐거움, 혼자는 힘들지만 함께하면 방대한 양의 공부를 끝낼 수 있음, 발표 연습, 소통 능력 향상, 지식습득의 순서라고 하셨다. 나도 스터디를 통해 교수님 나이의 동료들과 치열히 토론하고 소통하고 싶다.. 눈치보지 않고! 첫 연습을 커뮤니티 안에서부터 해보자! :)
  - 선배개발자 중 한명이.. 내가 겪는 똑같은 고민을 말해줬다. 알아야 할 건 너무 많고, 나의 학습 속도는 실무와 병행하기에 느리고.. 그는 필요한 부분만 어느정도 익히고 실무로 들어가 적용해보면서 더 익힌다고 하셨다. 여기서 "어느정도"의 기준은 결국 꾸준한 지식습득과 연습을 통해 자기만의 기준들이 쌓인거라고.. 

##12/13 (일)
### 오늘 한 일
- 문철이 자료 보면서 proactor 패턴으로 에코 서버 구현
  - proactor 패턴은 javascript의 event handler처럼 핸들러 등록해두고 accept, read, write 를 비동기적으로 처리하는 형태. 

### 공부거리
- AsynchronousGroupChannel, CompletionHandler 에 대해 공부해보기
- writeBuffer에 put해놓고 rewind()를 해야 제대로 써졌다. rewind()가 어떻게 동작했는지 제대로 이해해보자.

##12/14 (월)
### 오늘 한 일
- S2 그래프 개념 설명회.. 처음엔 호기롭게 들었는데 듣다가 중간 중간 졸리더라 ㅠ.ㅠ 그래도 한번 관심있게 지켜봐야지~!
- 글쓰는 개발자에 대하여
  - 오늘 오픈소스 하이에나 님의 자기소개 세션에 참석햇었는데, 이분도 자신을 글 쓰는 개발자라 소개하셨다. 또 오늘 이야기를 나눈 J교수님도 10년여간 책을 준비하고 얼마전에 책을 내셨지. 교수님은 개발자에게 발표와 글쓰기는 많이 할 수록 좋은 것 같다고 하시면서, 정리해봐야 비로소 자신의 것이 되는 것 같다고 하셨다. 또 오늘 우연히 읽은 기사 [당신이 글을 써야만 하는 이유](http://ppss.kr/archives/22870)도 글을 많이 읽고 이것을 다시 자신의 언어로 써야지만 합리적인 생각을 할 수 있다고. 이렇게라도 맨날 글을 써야겠다. 글 쓰는 것을 놓지 말아야지. 시작은 일단 하루의 정리부터! 조금씩 읽은 것 정리... 이를 통해 나만의 생각을 정리로 나아가자! :)
- proactor 패턴에 reactor 패턴 붙임 - 처음에 map에 handler를 sigleton으로 등록해두었는데, handler에 channel을 들고 있어서 멀티쓰레딩 환경에선 safe하지 않았다. 이를 FactoryClass를 두어서 매번 instance를 만드는 것으로 변경!
- 하스켈 스터디 (Functor, Applicative Functor - [자료](http://www.slideshare.net/namhyeonuk90/haskell-study-8?qid=d598f7f2-3d56-43d2-bf64-d5d52be5e9ff&v=default&b=&from_search=5))

### 내일은
- RoomListManager 를 어떻게 nioServer에 적용할지 고민해보자.. 재활용할 수 있으면 좋겠는데.. 일단 copy 뜨고 돌아가게 해놓고서 생각해봐야 할듯.
- Effective Java 6장 정리! 스터디 자료 준비해둬야 하는데!

##12/15 (화)
### 오늘 한 일
* nioServer에서 이제 채팅이랑 간단한 파일 전송 가능하도록 코드 고쳤다. 
  * RoomListManager는 거의 고치지 않았고, RoomManager는 안쓰는 메소드 (handle) 지우고, ClientHandler 있던 자리에 AsynchronousSocketChannel넣도록 바꿨다.
* Effective Java 6장 규칙 3개 정리

##12/16 (수)
### 오늘 한 일
* Effective Java 6장 정리 완료 - [포스팅](http://128.199.231.48/effective-java-ch-6-enums-and-annotations/) 
* 스터디는 하지 않고 팀 전체적으로 2015년을 회고하는 자리를 가졌다. 워크샵에서 처음으로 회고를 하긴 했지만, 그때는 알콜이 있기도 해서 끝이 흐지부지 되었었는데.. 오늘 처음으로 제대로 된 팀 공유가 이뤄져서 좋았다. 

## 12/17(목)
### 오늘 한 일
* 채팅프로그램에서 대용량 파일공유가 가능하도록 고쳤는데 제대로 돌아가지 않는다. 오후 업무 시간은 디버깅하다 끝났다. 
* Effective Java 6장 스터디 (규칙 32까지 하였고 규칙 33 하려다가 장애가 나서 스터디가 중단되었다.)
  * 스터디 중에 새롭게 알 게 된 사실은 Enum에서는 다른 클래스의 static 필드를 참조하여 사용하지 못한다는 점이다. 왜냐하면 초기화가 Enum - Class (static) - instance 순으로 이뤄지기 때문에 Enum이 초기화될 땐 static 필드를 참조하려 하면 에러가 나기 때문이다.
* 스터디가 중단되어서 선배님들고 디버깅할 기회가 생겼다. 이 시간을 통해 배운 팁은 디버깅할 딱 그 클래스만 디버깅 토글 붙여놓고 집중해서 디버깅을 해야한다는 것이다. 나는 서버, 클라이언트 족에 다 디버깅 토글 붙이고, 서버에서도 이벤트 핸들러뿐 아니라 write 메소드에도 토글 붙이는 등 집중이 분산되었다. 어떤데를 알아봐야할까 생각해보고 그곳만 집중적으로 파는 자세가 필요한 듯! :)
* 하스켈 스터디 - 지난주에 안해서 이번주는 월요일에 이어 오늘도 하였다. 오늘 배운 내용은 [모나드](http://www.slideshare.net/namhyeonuk90/haskell-study-9?related=1). 모나드는 어찌 저찌 괜찮았는데 월요일에 배운 Functor가 아직 개념이 잘 안잡히는 것 같다. 연습문제를 풀어보자.

## 12/18 (금)
### 오늘 한 일
* 채팅 프로그램 대용량 파일 공유 완료!
  - 처음엔 파일 크기만큼 ByteBuffer를 alloc 해두고 읽은 만큼 클라 채널에 쓰고 다시 이 버퍼 재활용해서 또 읽고 쓰려고 하였다. 그런데 다시 읽어도 버퍼가 처음부터 덮어쓰기를 하는 것이었다. 이것을 깨닫고 버퍼에서 데이터를 읽기 전에 ByteBuffer.position()으로 포지션 값을 저장해두었다가 읽은 후에 다시 position 값을 저장해둔 값으로 재설정해줬는데 - 이렇게 하니 대용량 파일을 한번만 핸들하고 다시 핸들러로 돌아오지 않았다. - 아직 이 이유는 모르겠다. 
 - 그래서 이건 안되겠다 싶어 고정 사이즈의 버퍼를 그대로 클라이언트에게 전달하고, 한번 쓴 버퍼는 읽고, 쓰는 용도로 한번만 사용하고 다시 새 버퍼를 할당하여 읽고 쓰는 식으로 접근하였다. 
 - 이번에는 내가 고치는 과정 중 실수를 하였다. 헤더를 브로드 캐스팅 전에 한번만 보낸다고 한 것이, 파일을 보낸 녀석에게만 헤더를 보내고 (얘한테는 보낼 필요가 없는데) 파일을 받아야할 녀석들한테는 헤더를 주지 않았다. 이렇게 짰더니 헤더가 엉뚱한 곳에 가있고, 컨텐츠만 돌고 있으니.. 우연히 헤더 받은 뒤 바로 컨텐츠 받은 녀석만 제대로 동작하고 파일 보내기가 제대로 동작하지 않았었다. 이 버그는 선배에게 디버깅을 여쭤보며 힌트를 얻어서 찾아 고쳐낼 수 있었다!
 - 이제 남은 건? 흠.. 사실 채팅도 대용량이 될 수 있어서 이것까지 고려해야하긴 하는데... 더 고치고 싶지 않아 >_< 일단 이정도에서 좀 더 리팩토링 할 포인트 찾아보고 오늘 선배께 코드리뷰 주소를 보내드리는 것으로! :)
  - 이제 디버깅하다가 어느정도 시간 흐르면 바로 도움을 요청하는 게 낫겠다.. 혼자하면 시간만 흘러가고, 뾰족한 수가 떠오르질 않네..
  - 남은 이슈 정리 - client가 blocking io를 사용하면 여전히 대용량 파일 전송에 문제가 생긴다.. [여기](https://github.com/KimDahye/chat-program/issues/38) 참고. 이 이슈는 개인적인 시간에 처리하자. 이제 메이븐 적용하기로 이동!
* ThreadPoolExecutor 공부 
  * 이전에 올렸던 포스팅([여기](http://128.199.231.48/threadpoolexecutor/))에 java doc 보고 배운 부분 첨가하여 업데이트

### 주말에 하고 싶은 것
* nio-server 코드 좀 보고 고치기
* 책읽고 글 쓰기
* 하스켈 연습문제!!
* effective java 미리 읽어두기
* 어머님, 아버님께 편지쓰기 <br>
=> 컴퓨터 가져가지 않는 걸로! <br>
=> 여기서 한 건 책 읽은 것 까지... 결혼식 끝나고는 주말을 더 잘 사용해보자!  

## 12 / 21 (월)
주말에 이너게임의 <일의 재정의> 파트를 읽었다. 일의 요소에는 성과뿐 아니라 학습과 즐거움도 있다. 그러기 위해선 일 하기 전에 내가 오늘 무엇을 배울 것인지 정리하는 '브리프' 시간을 갖고, 일한 후에 내가 무엇을 배웠는지 정리하는 '디브리프'시간을 갖으라고 조언했다. 나도 오늘부터는 브리프 시간과 디브리프 시간을 갖기 위해, 섹션을 "오늘 할 일" (완료 여부), "회고" 로 바꾸겠다.
 
### 오늘 할 일
* 메이븐 적용하기 - 메이븐 훑어보기로 바꿈
* 넥스트 네트워크 프로젝트에 연락하기, 카톡방 파기 **완료**

### 회고
* 메이븐
  * 메이븐 프로젝트를 진행해보며, 외부 라이브러리 의존관계를 설정해본 적은 있으나 아직까지 메이븐을 제대로 이해하고 있는 것 같지는 않아서 오늘은 블로그 몇개를 훑어보고, 자바지기의 <자바세상의 빌드를 이끄는 메이븐> 책을 읽었다. 
  * [다중 모듈에 관한 포스트](http://windwolf.tistory.com/18)를 읽어보긴 했는데 그냥 느낌만 잡은 상태. pom.xml을 내가 직접 처음부터 끝까지 이해하면서 작성해야 하는 걸까? 나는 이제껏 central repository에서 dependency 복붙만 해왔는데!
  * [자바세상의 빌드를 이끄는 메이븐](https://slipp.net/wiki/pages/viewpage.action?pageId=10420233) 1장 읽어봄. 앤트가 나쁜 건 아닌데 너무 자율성이 높다보니 팀플에서 팀 표준을 맞추는데 시간이 오래걸리는 가 보다. 메이븐은 많은 부분을 정형화하여 팀에서 비즈니스 로직에 집중하여 토론할 수 있게하는 빌드 도구!
  * 다른 분들은 어떻게 공부하시는지 내일 스크럼시간에 여쭤보자.
* 하스켈 스터디
  * 오늘은 현욱이 스터디 자료로 11장 kind, 12장 monoid, 13장 function type에 대해 스터디가 진행되었다. (참고. [여기](http://www.slideshare.net/namhyeonuk90?utm_campaign=profiletracking&utm_medium=sssite&utm_source=ssslideview))
  * 이번 스터디를 통해서 훑어보는 걸로 만족해야겠다. 점점 어려워진다... 어렵다 어려워 ~_~
* 송년회 장소 정하기
  * 어제 남자친구의 도움으로 송년회 예약을 하였는데, 내가 가보지도 않은 곳을 예약했던 것이 에러 요인이었다. 선배들의 도움을 받으니 무엇을 고려해야할지 알게되었다. (택시로 쉽게 이동 가능한가, 양은 많은가, 2차로 갈 수 있는 장소와 가까운가, 등!) 앞으로는 이렇게 예약을 할 때는 센스있는 선배들께 미리 여쭤보고 정해야겠다. ㅎㅎ

### 내일
* 메이븐 공부한 거 공유하고 어떻게 공부하시는지 여쭤보기
* ThreadPoolExecutor 다시 check 받기!
* 공부할 시간이 많진 않지만 이펙티브 자바 7장 반절 이상은 정리해야 함!!


## 12 / 22 (화)
### 오늘
* 메이븐 공부한 거 공유하고 어떻게 공부하시는지 여쭤보기
  * 메이븐에 대해 다 아는 사람은 없다. 필요한 부분만 찾아서 공부하고 기존 프로젝트 보면서 이해한 뒤 적용했다. 
* ThreadPoolExecutor 다시 check 받기!
  * 까먹음;
* 공부할 시간이 많진 않지만 이펙티브 자바 7장 반절 이상은 정리해야 함!!
  * 38, 39, 40 정리 (포스팅은 [여기](http://128.199.231.48/effective-java-ch-7-methods/) 참고 - 내일 업데이트 예정)

### 회고
업무시간에 전체적으로 집중을 잘 못했다. 핑계를 대자면, 오늘이 회사 전체 송년회여서 여러 행사가 많았었다. 중간에 간식받으러 가고, 또 나중에 행사 참여하고, 송년회 관련 글에 댓글 남겼다가 조마조마해 하느라; ㅎㅎ 행사의 유무와 상관없이 항상 조금씩 성장하고 싶다. 그런데 성장하는 것이 꼭 업무에서의 성장만 의미있는 걸까? 생각해보니, 얼마 없는 행사에 잘 참여해서 회사 전체를 이해하고 다른 사람들의 모습을 보는 것도 내가 알지 못하던 세계를 탐험하는 것이 아닐까. 이게 집중하지 못했던 오늘에 대한 자기합리화일까? 이제부터 행사가 있을 때 잘 참여하고 집중하지 못한 것에 대해 죄책감을 가지지 않는다면 이게 자기합리화가 아니라 단지 나의 생각이 될 테니, 이렇게 살아보자. 

송년회가 끝나고 집으로 돌아가는 길에 T 선배의 이야기를 들었다. 고등학교때 전자 피아노에 빠져, 고3임에도 불구하고 저녁 시간을 쪼개어 학원에서 연습하고 레슨받던 기억을 들려주셨다. 고3이란 시기에 공부 이외의 것을 한다는 것은 지금도 그 당시에도 남들이 가지 않는 길이었을 텐데, 좋아하는 것에 몰입할 수 있는 용기가 멋있었다. 비록 지금은 피아노가 아닌 컴퓨터 앞에 앉아계시지만, 좋아하는 것을 끝까지 파 본 경험은 지금의 삶에도 좋은 영향을 미치고 있지 않을까 싶다. 

## 12 / 23 (수)
### 오늘
* Effective Java 7장 정리 완료하기 **완료**
* Effective Java 스터디 (6장 절반) **완료**
  * 다음 스터디(화)까지 key-value annotation 만들기 - 내일 만들자!
* 넥스트 네트워크 프로젝트 첫 모임임 **완료**
  * 회의록은 [여기에](https://github.com/KimDahye/NEXTStudentNetwork/wiki/20151223-%ED%9A%8C%EC%9D%98%EB%A1%9D) 

### 회고
오늘까진 업무시간에 책을 읽었지만, 앞으로 책은 업무시간 이외 시간에 읽도록 해야겠다. 가만히 앉아서 책만 읽으려니 지루하고, 그래서 졸린다... 책은 이제 업무 이외의 시간에 읽도록 하고 업무시간엔 많은 시간을 코딩에 할애하고 싶다. 코딩을 해야 졸리지 않음 ㅋㄷ

오늘은 넥스트 네트워크 버전 2를 시작했다. 다행히 M과 J와 함께 미팅을 했는데, 업무 이외의 자유로운 프로젝트가 힘들 수도 있겠지만 정말 재밌을 거 같다! 마음껏 해보고 싶은 걸 해봐야지! 프론트도 직접 짜진 않더라도 친구들이 하는 것을 리뷰하며 이해하고 질문도 해야겠다.

내일은 음성치료 있는날. 넥스트 가서 하고 싶은 공부들 하고 청첩장도 돌리고 음성치료 갔다가 집에 가야지! :) 야호! 내일 늦게 일어나도 된다 ㅎㅎ

## 12 / 24 (목)
병원가기 위해 휴가

## 12 / 28 (월)
성대결절이 낫지 않고 있다. 계속 낫지 않아서 너무 우울했는데, 비밀독서단을 보면서 다시 일어섰다. <다윗과 골리앗>이란 책을 소개해줬는데, 그 책의 요지는 세상이 보기엔 약점으로 보이는 것을 강점으로 승화시킬 때, 오히려 엄청난 강점이 된다는 내용이었다. 성대결절로 인한 목소리의 부재, 단순히 보면 약점이지만... 어떻게 강점이 될 수 있을까? 더 잘 들을 수 있는 태도로 승화될 수 있을까? 그래도 온전한 커뮤니케이션은 아닌듯 한데... 한번 고민해보자.

고향 집에 있을 때 칼국수 집에 다녀왔는데, 마침 칼국수집 아주머니가 이전에 성대결절로 수술을 하셨던 분이셨다. 그분께서 자신은 지하나 공기 좋지 않은 실내는 절대 가지 않는다고 하셨는데... 내가 2년간 지하에서 살았던 것이 성대결절이 낫지 않는데 결정적 역할을 하고 있는 게 아닐까, 생각했다. 지하는 햇빛이 없어 정신적으로 우울하게 할 뿐 아니라 육체적으로도 악영향을 끼치고 있었구나.. 나야 이제 직장을 얻었으니 지하에서 벗어날 수 있지만 지하에서 살 수 밖에 없는 분들도 계실 텐데... 수도권의 주거환경이 개선될 수 있도록, 계속 문제의식을 갖고 살아야겠다, 지하 경험자로서!


### 오늘
* maven 모듈화하는 것 따라해보기. - **완료**
  * 참고 사이트 Ch6 A Multi Module Project ([여기](https://maven.apache.org/guides/mini/guide-multiple-modules.html)를 통해 알게 된 [여기](http://books.sonatype.com/mvnex-book/reference/multimodule.html)) 읽으며 다중 모듈화를 어떻게 하는지 파악해보자. - **완료**
  * 기존 다중 모듈화한 프로젝트 보면서 파악해보자. - **완료**
  * 소스코드는 [여기](https://github.com/KimDahye/chat-program/tree/maven)
* ~~key-value annotation 만들고 사용해보기~~ - 내일로 

### 회고
* maven으로 multi module화! 막상 해보니 **parent 격의 pom.xml이 있다는 것, 그리고 서로 서로 의존관계를 가질 수 있다는 것** 빼고는 기존 메이븐 프로젝트와 크게 다른 게 없었다. 괜히 처음에 겁을 많이 먹고 메이븐의 기초부터 다시 공부하려고 했는데.. 나는 새로운 것을 시작할 때 대충 훑어보면서 얘가 어느정도 난이도인지 감을 잡으며 warming up을 하는 것 같다. 이 시간을 자꾸 자꾸 줄여나가보자! 겁 먹지 말자! 막상 해보면 언제나 생각보다 별거 아닌 녀석들이었지~
 
### 기타 이슈 정리
* IntelliJ 단축키 업데이트 ([여기](http://128.199.231.48/intellij-dancugki-jeongri/)에) - method usage 보기, 만능 help 
* mvn install은 brew 이용함 `brew install maven`
* [intellij, 디버깅] 타겟 폴더의 langue level 이 달라 컴파일 안되는 경우가 있다. ex) `source release 1.7 requires target release 1.7` - [여기](http://stackoverflow.com/questions/12900373/idea-javac-source-release-1-7-requires-target-release-1-7) 참고하여 해결
* [참고] 메이븐으로 자바 실행하기 - [여기](http://www.vineetmanohar.com/2009/11/3-ways-to-run-java-main-from-maven/) 참고 
* vi 에서 keyword 찾기 - `/`나 `?`쓰고 찾고픈 keyword 쓰면 됨 - [여기](http://ccm.net/faq/982-vi-vim-finding-a-word) 첫단락 참고
* **[질문]** pom.xml 아이콘이 다른 것... 질문하기. - 단순히 내가 이름 바꾼 녀석들만 IDEA가 인식못하는 건가?
* **[질문]** 모듈로 묶어놓으니 패키지를 안에다 쓸 수 없네? 만약 이게 사실이라면 mudule로 빼고 싶어도 cycle이 생기는 경우엔 하나의 모듈로 넣는 게 좋은데.. 왜 패키지를 쓸 수 없는건가?

### 내일
* Spring DI 기능 사용하기
* ThreadPoolExecutor 고치기


## 12 / 29 (화)
### 오늘
* key-value annotation 만들고 사용해보기 
* Spring DI 기능 사용하기 
* (ThreadPoolExecutor 고치기)
* 스터디 준비 (7장 정리한 거 정독하기)

### 회고
* key-value annotation 만들고 사용해보기
  * 완료
  * 메소드 이름이 설정하는 필드의 이름이 된다!
* 서버접속, VPN 설정하기 
  * 예상하지 못했던 이슈 
  * 급한 건 아니었지만 업무 들어가기전에 잘 해둔 듯 - 나같은 사람을 위해 문서화 해놓음.
* Spring DI 기능 사용하기
  * 부모 pom.xml에 spring bean의 dependency 추가하고, DI 사용할 모듈의 resources 폴더에 applicationContext.xml 파일 넣음.
  * 하지만 완료는 못함.
* (ThreadPoolExecutor 고치기)
  * 못함
* 스터디 준비 (7장 정리한 거 정독하기)
  * 스터디가 늦게 시작해서 15분 정도 정리할 시간이 있어서 그정도로...

## 12 / 30 (수)
### 오늘
* Spring DI 기능 사용하기 
* 넥스트 네트워크 프로젝트 오프라인 모임

### 회고
* Spring DI 기능 사용하기 - 완료
  * 적용과정과 느낀점은 [github issue](https://github.com/KimDahye/chat-program/issues/40)의 코멘트로 정리
* [퇴근후] 넥스트 네트워크 프로젝트 오프라인 모임 - 참가
  * 회의록은 여기에 [github wiki](https://github.com/KimDahye/NEXTStudentNetwork/wiki/20151230-%ED%9A%8C%EC%9D%98%EB%A1%9D)
  
## 12 / 31 (목)
### 오늘
* 합리적인 ThreadPoolExecutor를 만들자.
  * 어제 decorator 패턴으로 하려했다가, 이건 기능을 덧붙이는 게 아니라 내부 동작방식을 바꿔야하는 거라 그냥 ThreadPoolExecutor 클래스를 덤프떠서 바꿔야겠다. 

### 회고
* 합리적인 ThreadPoolExecutor를 만들자. - 완료
  * 코드는 [github](https://github.com/KimDahye/TIL/tree/master/java/practice/src/reasonableThreadPoolExecutor)에
  * "합리적인" 이란 뜻에 대해 설명해야겠다. 기존엔 worker가 core~max 사이 개수이면 큐에 넣다가 큐가 꽉 차면 그제서야 worker개수를 늘렸는데, 수정하려는 방향은 core~max 사이 개수여도 바로 max 까지는 개수를 늘리고 그 이후에 들어온 건 큐에 넣어 Worker클래스가 idle이 되었을 때 큐에서 빼내 처리하는 방향이다. worker가 max이고 큐까지 가득찼다면, 그제서야 reject하는 방향!
  * java 1.8의 concurrent/ThreadPoolExecutor 의 execute 메소드만 바꾸면 될 거라고 생각했고, execute 메소드가 그리 길지 않길래 아주 넉넉하게 잡아 한시간이면 로직 파악하고 한시간이면 수정 버전 만들 수 있겠다 싶었는데, 생각보다 execute를 이해하는데 오래걸렸다. ㅠ.ㅠ execute 안의 addWorker가 꽤 복잡해서 이걸 대충 (완전히는 못했다) 파악하는데 시간이 걸렸다. 결국 addWorker는 새로 Worker 객체 만들어 인자로 받은 FristTask를 쓰레드로 실행하는 메소드이다.
  * 헷갈렸던 것은 execute안에서 workQueue에서 task를 뽑아내는 작업이 없어 의아했는데, 그 작업은 private 클래스인 Worker내부에서 하고 있었다. Worker는 runWorker() 내부에서 getTask()를 통해 큐에서 task를 뽑아낸다!  
* 참고. 소스코드 읽다가 volatile 키워드가 나와 뭔지 찾아보았는데, concurrent 상황에서 사용하는 키워드인듯. 제대로는 잘 모르겠다. 시간될 때 관련 링크들 잘 읽어보자.
  * http://jeremymanson.blogspot.kr/2008/11/what-volatile-means-in-java.html
  * http://kwanseob.blogspot.kr/2012/08/java-volatile.html

# 다음 달 학습일지
학습일지를 월별로(monthly) 작성고 있다. 다음 학습일지는 [여기](http://128.199.231.48/study-diary-2016-01/)에 있다!
